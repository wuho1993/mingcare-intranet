(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{9478:function(e,s,t){Promise.resolve().then(t.bind(t,7340))},7340:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return c}});var a=t(7437),m=t(2265),l=t(9376),r=t(3145),i=t(2141);function c(){let[e,s]=(0,m.useState)(""),[t,c]=(0,m.useState)(""),[n,o]=(0,m.useState)(!1),[d,p]=(0,m.useState)(!1),[x,u]=(0,m.useState)(null),h=(0,l.useRouter)();(0,m.useEffect)(()=>{let e=localStorage.getItem("mingcare_email"),t=localStorage.getItem("mingcare_password"),a="true"===localStorage.getItem("mingcare_remember");e&&a&&(s(e),o(a)),t&&a&&c(t)},[]);let g=async s=>{s.preventDefault(),p(!0),u(null);try{let{data:s,error:a}=await i.O.auth.signInWithPassword({email:e,password:t});if(a)throw a;s.user&&(n?(localStorage.setItem("mingcare_email",e),localStorage.setItem("mingcare_password",t),localStorage.setItem("mingcare_remember","true")):(localStorage.removeItem("mingcare_email"),localStorage.removeItem("mingcare_password"),localStorage.removeItem("mingcare_remember")),h.push("/dashboard"))}catch(e){u(e.message)}finally{p(!1)}};return(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-bg-primary py-6 sm:py-12 px-3 sm:px-6 lg:px-8",children:(0,a.jsx)("div",{className:"max-w-md w-full",children:(0,a.jsx)("div",{className:"card-apple fade-in-apple",children:(0,a.jsxs)("div",{className:"card-apple-content p-4 sm:p-6 lg:p-8",children:[(0,a.jsxs)("div",{className:"text-center mb-6 sm:mb-8",children:[(0,a.jsx)("div",{className:"mx-auto flex items-center justify-center mb-2 sm:mb-3 overflow-visible",children:(0,a.jsx)("div",{className:"w-48 h-48 sm:w-56 sm:h-56 lg:w-64 lg:h-64 -my-8 sm:-my-10 lg:-my-12",children:(0,a.jsx)(r.default,{src:"/images/mingcare-logo.png",alt:"MingCare Logo",width:1024,height:1024,priority:!0,quality:100,unoptimized:!0,className:"w-full h-full object-contain",style:{imageRendering:"crisp-edges"}})})}),(0,a.jsx)("h2",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-text-primary mb-1 sm:mb-2",children:"明家居家護理服務"}),(0,a.jsx)("p",{className:"text-sm sm:text-base text-text-secondary",children:"明家內聯網系統"})]}),(0,a.jsxs)("form",{className:"space-y-4 sm:space-y-6",onSubmit:g,children:[(0,a.jsxs)("div",{className:"space-y-3 sm:space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"email",className:"block text-sm sm:text-base font-medium text-text-primary mb-1 sm:mb-2",children:"電子郵件"}),(0,a.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"form-input-apple text-sm sm:text-base h-11 sm:h-12",placeholder:"請輸入您的電子郵件",value:e,onChange:e=>s(e.target.value)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"password",className:"block text-sm sm:text-base font-medium text-text-primary mb-1 sm:mb-2",children:"密碼"}),(0,a.jsx)("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"form-input-apple text-sm sm:text-base h-11 sm:h-12",placeholder:"請輸入您的密碼",value:t,onChange:e=>c(e.target.value)})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("label",{className:"flex items-center space-x-2 sm:space-x-3 cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:n,onChange:e=>o(e.target.checked),className:"checkbox-apple w-4 h-4 sm:w-5 sm:h-5"}),(0,a.jsx)("span",{className:"text-xs sm:text-sm text-text-secondary select-none",children:"記住我"})]}),(0,a.jsx)("a",{href:"#",className:"text-xs sm:text-sm text-primary hover:text-primary-dark transition-colors duration-150",children:"忘記密碼？"})]}),x&&(0,a.jsx)("div",{className:"p-3 sm:p-4 bg-danger-light border border-danger rounded-apple-sm",children:(0,a.jsx)("p",{className:"text-xs sm:text-sm text-danger font-medium",children:x})}),(0,a.jsx)("button",{type:"submit",disabled:d,className:"w-full btn-apple-primary py-2.5 sm:py-3 text-sm sm:text-base disabled:opacity-50 disabled:cursor-not-allowed",children:d?(0,a.jsxs)("div",{className:"flex items-center justify-center",children:[(0,a.jsx)("div",{className:"inline-block animate-spin rounded-full h-3 w-3 sm:h-4 sm:w-4 border-2 border-white border-t-transparent mr-2"}),"登入中..."]}):"登入"})]})]})})})})}},2141:function(e,s,t){"use strict";t.d(s,{O:function(){return a}});let a=(0,t(3960).AY)("https://cvkxlvdicympakfecgvv.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImN2a3hsdmRpY3ltcGFrZmVjZ3Z2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTE0MjkxODEsImV4cCI6MjA2NzAwNTE4MX0.jp2fPKcBcG4-042UoN3OieR553WAgABhJIujiDJAt-I")}},function(e){e.O(0,[998,145,971,117,744],function(){return e(e.s=9478)}),_N_E=e.O()}]);