# 香港身份證掃描器使用指南

## 功能概述

這個 HKID Scanner 組件使用 Tesseract.js OCR 技術來識別香港身份證上的資訊。

## 主要改進

### v1.1 更新內容：

1. **雙重 OCR 模式**
   - 完整掃描：識別姓名、身份證號碼、出生日期
   - 快速掃描：僅識別身份證號碼（速度較快）

2. **優化的圖像處理**
   - 高解析度拍攝（2x 縮放）
   - 自動黑白化處理
   - 對比度增強

3. **改進的文字解析**
   - 支援多種身份證號碼格式
   - 智能日期格式識別
   - 更好的中文姓名提取

4. **調試功能**
   - 實時進度顯示
   - 詳細的識別過程信息
   - OCR 原始結果展示

## 使用方法

### 拍攝技巧

1. **光線條件**
   - 確保光線充足且均勻
   - 避免強烈直射光造成反光
   - 室內自然光或柔和的人工光源最佳

2. **拍攝角度**
   - 將身份證水平放置
   - 相機垂直對準身份證
   - 確保身份證完全在掃描框內

3. **身份證狀態**
   - 身份證表面乾淨
   - 避免摺痕或損壞
   - 文字清晰可見

### 常見問題解決

#### 無法啟動相機
- 檢查瀏覽器相機權限
- 確保沒有其他應用程序佔用相機
- 嘗試重新整理頁面

#### 識別準確度低
- 使用快速掃描模式僅獲取身份證號碼
- 檢查光線條件
- 嘗試多次拍攝
- 使用手動輸入作為備用方案

#### 識別結果不完整
- 部分信息可能需要手動修正
- 系統優先確保身份證號碼的準確性
- 姓名和出生日期可在後續步驟中補充

## 技術實現

### OCR 引擎配置
```javascript
// 語言包：英文 + 繁體中文
await Tesseract.createWorker('eng+chi_tra')

// 字符白名單（優化識別精度）
tessedit_char_whitelist: '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz一二三四五六七八九十百千萬億兆()/-. 年月日'
```

### 圖像預處理
1. 高解析度捕獲（2x 縮放）
2. 灰度轉換
3. 閾值二值化處理
4. 對比度增強

### 文字解析正則表達式
- **身份證號碼**: `/[A-Z]{1,2}\d{6}\([0-9A]\)/g`
- **出生日期**: `/(\d{4}[-\/年]\d{1,2}[-\/月]\d{1,2}日?)/g`
- **中文姓名**: `/([一-龯]{2,4})/g`

## 未來改進計劃

1. **機器學習模型**
   - 訓練專門的香港身份證識別模型
   - 提高中文字符識別準確度

2. **圖像處理優化**
   - 自動傾斜校正
   - 透視變換校正
   - 噪音去除算法

3. **用戶體驗優化**
   - 實時預覽框
   - 拍攝指導提示
   - 批量處理功能

## 瀏覽器兼容性

- ✅ Chrome 80+
- ✅ Firefox 75+
- ✅ Safari 13+
- ✅ Edge 80+
- ❌ Internet Explorer（不支持）

## 性能考量

- 首次使用需要下載語言包（約 10-15MB）
- 識別時間約 5-15 秒（視設備性能而定）
- 建議在 Wi-Fi 環境下使用以確保最佳體驗
